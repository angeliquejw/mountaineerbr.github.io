<!DOCTYPE html>
<html lang="en">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.7.45">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="alternate" type="application/rss+xml" title=
"Biology Blogger RSS" href="../rss.xml">
<link rel="alternate" type="application/rss+xml" title=
"Biology Blogger RSS (Alternative feed)" href="../rss_alt.xml">
<link rel="alternate" type="application/rss+xml" title=
"Biology Blogger RSS (Podcast)" href="../rss_podcast.xml">
<!-- metatags -->

<title>#12 - Spell Checking Programmes - 08/oct/2020</title>
<link rel="canonical" href=
"https://mountaineerbr.github.io/blog/12/">
<meta name="description" content=
"Choosing amongst some CLI spell checker options for Linux.. When working with plain text files, we need them, even though Vim can use them, too.">
<meta name="keywords" content=
"aspell, hunspell, vim, linux, orthography, ortografia, correção, error correction, checagem, tutorial, errors ortográficos, mispelling, tips, tricks, dicas">
<link rel="stylesheet" href="../css/style.css" type="text/css">
<meta name="resource-type" content="document">
<meta name="author" content="jsn">
<meta name="author" content="jsn">
<meta name="distribution" content="global">
<meta name="viewport" content=
"width=device-width, initial-scale=1.0">
<!-- <link rev="made" href="mailto:jamilbio20[[at]]gmail[[dot]]com"> -->
<link rel="shortcut icon" href="../../favicon.ico" type=
"image/x-icon">
<meta property="og:url" content="https://mountaineerbr.github.io">
<meta property="og:type" content="blog">
<meta property="og:title" content="Biology Blogger Blog">
<meta property="og:image" content=
"https://mountaineerbr.github.io/gfx/bg11bg.png">
<meta property="og:description" content="Blog post.">
<meta name="twitter:card" content="summary">
<meta name="twitter:image:alt" content=
"Mushrooms, leaves and sticks"><!-- https://ogp.me/ -->

<style>
        /* Microformat style */
        .dt-published
        {
                font-size: 1.1em;
        }

</style>
</head>
<body>
<header>
<div class="w3-bar w3-amber">
<nav class="navbar"><a class="w3-bar-item w3-left" href=
"../../">Home</a> <a class="w3-bar-item w3-left" href="../">Post
index</a> <!-- navitem -->
<a class="w3-bar-item w3-right" href="../13/">Next</a> <a class=
"w3-bar-item w3-right" href="../11/">Previous</a></nav>
</div>
</header>
<!-- FEED -->
<a href="../rss.xml"><img class="postfeed" src="../gfx/pic_rss.gif"
alt="RSS Logo" width="36" height="14"></a>
<main class="h-feed" style="clear:both;">
<p>by <span class="p-author">Mountaineerbr</span></p>
<!-- article -->

<article class="h-entry">
<header>
<h1 class="p-name" id="12">#12 - Spell Checking Programmes</h1>
<time class="dt-published" datetime="2020-10-08">08/oct/2020</time>
<br>
</header>
<!-- SUMMARY IN DIFFERENT LANGUAGE -->

<div lang="pt" class="p-summary">
<p>Escolhendo entre alguns programas para conferir a ortografia
disponíveis no Linux e algumas dicas para usá-los.</p>
</div>

<br>
<!-- MAIN TEXT  -->

<p>That came the time to run the spell checker on all my website
pages. There were many errors. Spell checking is very
important.</p>

<p>Just this week <a title=
"Kassio Marques plagiou advogado em tese apresentada em Lisboa"
hreflang="pt" href=
"https://www.oantagonista.com/brasil/exclusivo-crusoe-kassio-marques-plagiou-advogado-em-tese-apresentada-em-lisboa/">
fraud was discovered</a> in the candidate for a position in the
Supreme Court (STF) in Brazil. The fraud suspicion was confirmed
because even bad orthography was copied from a lawyer's articles to
the Supreme Court nominee master degree dissertation! His former
supervisor said the university will need reviewing his thesis again
due to the facts exposed in the media. He has just recently
completed his PhD degree in Universidad de Salamanca (Spain), but
has not published his thesis yet. It is speculated the nominee has
not completed formal postdoctoral work as written nis his
curriculum, either.</p>

<p>Here are some tips of what spell checkers I am using.</p>

<h2>Aspell and Hunspell</h2>

<p>GNU Aspell is a clone of old <em>Lspell</em> and it stands out
because it suggests the correct words in some cases when Hunspell
does not, see <a title=
"Aspell and Hunspell: A Tale of Two Spell Checkers" href=
"https://battlepenguin.com/tech/aspell-and-hunspell-a-tale-of-two-spell-checkers/">
this blog post comparison between both programmes</a> and <a title=
"GNU Aspell: Introduction" href=
"http://aspell.net/man-html/Introduction.html">this extensive list
of comaprison</a>. It must be noted, though, that <a href=
"https://lists.gnu.org/archive/html/aspell-devel/">Aspell
development</a> is well and active, contrary to what was claimed by
the blog post from battlepenguim.com .</p>

<p>Hunspell is the most popular spellchecking library. It is
included in OpenOffice, LibreOffice and it appears to be included
in Firefox and Chrome, too.</p>

<p>The difference in popularity may also have to do with fear of
copyright law enforcement amongst other things. Even though
Stallman said it was OK for GNU Aspell to use a copyrighted word
list for the English language, there seems to be a message in the
mailing lists with some worries from one developer about the case..
See the <a title="Problems with aspell-en license" href=
"https://lists.debian.org/debian-legal/2002/10/msg00204.html">mailing
list</a> and the follow-up message.</p>

<p>Aspell seems to have <a href=
"https://lyx-devel.lyx.narkive.com/tka1u3VX/hunspell-vs-aspell">had
better utf-8 support than Hunspell</a> over time.</p>

<p>Other factors of comparison:</p>

<blockquote>1.1.2 Comparison to Hunspell

<ul>
<li>Hunspell is based on Myspell. Myspell was created as a simple
spell checker for use in OpenOffice. Myspell’s affix support was
merged into Aspell 0.60 so Hunspell and Aspell can use the same
affix file to some extent.</li>

<li>Hunspell has better support for language peculiarities
including compounding and complex morphology. However the Hunspell
(v1.7.0) utility currently has problems with apostrophe (') in
words.</li>

<li>Aspell generally has better suggestions for non-phonetic
langauges such as English and French. Aspell suggestion speed also
tends to be significantly faster than Hunspell. For a comparison of
suggestion quality and speed see http://aspell.net/test/.</li>
</ul>

<footer>From <cite><a title="GNU Aspell: Introduction" href=
"http://aspell.net/man-html/Introduction.html">GNU Aspell
introduction manual</a></cite>.</footer></blockquote>
<!-- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/cite -->

<p>Hunspell supports setting multiple dictionaries at once while
Aspell requires the user to create a custom dictionary. For example
merging en_US with en_UK and pt_BR dictionaries. Sincerely, if
there is that option in Aspell, I could not find it. I found
<a href=
"https://unix.stackexchange.com/questions/341714/use-multi-language-dictionary-with-aspell">
this page</a> with a little how to get word lists from the
dictionary .rws files, but that is just an example link, I don't
know if that is the best tutorial over there if you are really
going to do it. However, <a title="Multi-language spell-checking"
href=
"https://lists.gnu.org/archive/html/aspell-user/2010-01/msg00006.html">
since different languages have different suggestions strategies and
affix rules this is a non-trivial task</a>. Afixing rules are used
to generate <a title=
"Hunspell/Aspell data conversion to human-readable inflection list"
href=
"https://stackoverflow.com/questions/17831145/hunspell-aspell-data-conversion-to-human-readable-inflection-list">
inflection lists</a>, for example.</p>

<p>One alternative for Aspell is to list all words of a document
that are wrong in one language with the option <i>list</i>, pipe to
another instance of Aspell which will list all words that cannot be
found in the dictionary of another language, such as</p>

<pre><code>$ aspell --dict-dir=/usr/lib/aspell-0.60/ --lang=pt-BR list &lt;index.html | sort -u | aspell list</code></pre>

<p>The only problem here is that you cannot know what line number
the wrong word is. See also <a href=
"https://pseudoscripter.wordpress.com/2011/05/11/aspell-using-more-than-one-language/">
this blog post</a> which details on the same workaround
example.</p>

<p>For checking spelling of a single word, I wrote this shell
function. While not ideal it should work for multi language
checking if you don't mind some verbose scat:</p>

<pre><code># ~/.bashrc


#spell check
sp()
{
        echo "PORTUGUESE"
        aspell --lang=pt-BR --encoding=utf-8 pipe &lt;&lt;&lt;"$1"

        echo "ENGLISH"
        aspell --lang=en-GB --encoding=utf-8 pipe &lt;&lt;&lt;"$1"
}</code></pre>

<p>Both Aspell and Hunspell command line interfaces are good and a
clean way to fixing bad words in multiple or single files. If you
use Vim beware about losing its undoes for files edited with the
spell checker default interfaces!</p>

<h2>Vim spell checker</h2>

<p>In order to avoid losing Vim undoes it is best to use Vim
built-in spell checker. I remember configuring my .vimrc with some
extra dictionaries knowing that would be useful at some point. But
as said, I have got the poor habit of not using spell checker,
hopefully we will change that now!</p>

<p>I got a <a href=
"https://github.com/glutanimate/wordlist-medicalterms-en">medical
terms wordlist</a> and placed it at file path
<code>~/.vim/spell/medicalterms-en</code>. Then I set the following
in my .vimrc:</p>

<pre><code>" ~/.vimrc


"spelling check

"dictionaries
set spelllang=en_gb,pt_br,medicalterms-en

"custom dictionary
set spellfile=~/.vim/spell/en.utf-8.add</code></pre>

<p>The filename of the custom dictionary is en.utf-8.add because a
dictionary starting with <em>en</em> will be read for all variants
of English (I haven't got the reference but that is what I can
remember).</p>

<p>Vim help page from <code>:help spell</code> cites
<em>en-rare</em> and <em>medical_ca</em> dictionaries but I could
not find wordlists for them on the internet so far.</p>

<p>Setting the spellfile property (custom words) is not as
important as setting at least one main language for the spelllang
property in .vimrc, however you can just set vim for a single
session with:</p>

<pre><code>:setlocal spell spelllang=en_us</code></pre>

<p>If you don't care the setting applies only to current buffer,
you can use <code>:set spell</code> and <code>:set nospell</code>
to disable.</p>

<p>Other than configuration, usage is very simple. Perhaps the most
important shortcut for the spelling function is <code>z=</code>
when cursor is on a highlighted (bad) word. It will prompt the user
to pick a suggestion from a list.</p>

<p>Other useful shortcuts are <code>]s</code> to go to the next
misspelled word and <code>[s</code> to go backwards. More on usage
on vim help <code>:help spell-quickstart</code> or from <a title=
"Using Spell Checking in Vim" href=
"https://www.linux.com/training-tutorials/using-spell-checking-vim/">
this tutorial</a>.</p>
<!-- <a title="How To Use Spell Check Feature In Vim Text Editor" href="https://ostechnix.com/use-spell-check-feature-vim-text-editor/">ostechnix</a> -->

<p>The user will end up composing a custom dictionary with words
she uses the most, such as frequent proper names and particular
expressions of her labour niche.</p>

<blockquote>
<p>zg &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; Add word under the cursor as a good word to the first
name in 'spellfile'.</p>

<p>:spellr[rare]! {word} &nbsp; &nbsp; &nbsp; &nbsp; Add {word} as
a rare word to the internal word list, similar to |zW|.</p>

<footer>From <cite><code>:help
spell-quickstart</code></cite></footer>
</blockquote>

<p>I reckon that checking spelling and grammar should happen
in-flight for simple mistakes or after the text is complete in
order to avoid breaking the trail of thoughts while writing.
Running the spell checker is a habit to be acquired! ;]</p>
</article>
</main>

<footer>
<hr class="sep">
<!-- Google Analytics -->
<!--
- - - - Copyright ©2021 JSN.
 - - -  Verbatim copying and distribution of this entire article is
- - - - permitted in any medium, provided this notice is preserved.
-->
</footer>
</body>
</html>
